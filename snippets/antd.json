{
  "⭕️ antd-页码配置": {
    "prefix": "yy.antd.pagination",
    "body": [
      "pagination={{",
      "  showSizeChanger: false,",
      "  current: state.page,",
      "  total: state.total,",
      "  onChange(page) {",
      "    dispatch({ page });",
      "  },",
      "}}"
    ]
  },
  "⭕️ antd-表单重置": {
    "prefix": "yy.form.resetFields",
    "body": "form.resetFields"
  },
  "⭕️ 表单-onFieldsChange": {
    "prefix": "yy.form.onFieldsChange",
    "body": "form.onFieldsChange"
  },
  "⭕️ 表单设置-antd": {
    "prefix": "yy.form.setFieldsValue",
    "body": "form.setFieldsValue"
  },
  "⭕️ antd表单验证": {
    "prefix": "yy.form.validateFields",
    "body": "form.validateFields"
  },
  "⭕️ 通用弹窗": {
    "prefix": "yy.com.dialog",
    "body": [
      "import React, { useEffect } from 'react';",
      "import { Modal, Form, Input, message } from 'antd';",
      "import getFormValues from '@script/getFormValues';",
      "import Rules from '@const/Rules';",
      "import http from '@script/http';",
      "const { Item, useForm } = Form;",
      "/**",
      " * ----------------------------------------",
      " *  新增",
      " * ----------------------------------------",
      " */",
      "export default function ${TM_FILENAME_BASE}(props) {",
      "  const { state, dispatch } = props;",
      "  const [form] = useForm();",
      "  const title = state.isEdit ? '编辑' : '添加';",
      "",
      "  const closeDialog = () => {",
      "    form.resetFields();",
      "    dispatch({ visible: false, isEdit: false });",
      "  };",
      "",
      "  useEffect(() => {",
      "    if (state.isEdit) {",
      "      form.setFieldsValue(state.editData);",
      "    }",
      "  }, [state.isEdit]);",
      "",
      "  const submit = () => {",
      "    getFormValues(form, async values => {",
      "      let url = '/add';",
      "      if (state.isEdit) {",
      "        values._id = state.select;",
      "        url = '/update';",
      "      }",
      "      console.log('表单数据', values);",
      "     // await http.post(url, values);",
      "      // message.success('操作成功');",
      "      // dispatch({ version: Date.now() });",
      "      // closeDialog();",
      "    });",
      "  };",
      "",
      "  return (",
      "    <Modal title={title} visible={state.visible} onCancel={closeDialog} onOk={submit} maskClosable={false}>",
      "      <Form form={form} labelCol={{ span: 6 }} wrapperCol={{ span: 14 }}>",
      "        <Item label='名称' name='name' rules={Rules.required}>",
      "          <Input />",
      "        </Item>",
      "        <Item label='描述' name='desc'>",
      "          <Input />",
      "        </Item>",
      "      </Form>",
      "    </Modal>",
      "  );",
      "}"
    ]
  },
  "⭕️ 通用表格-1": {
    "prefix": "yy.com.table",
    "body": [
      "import React from 'react';",
      "import Table from '@comps/Table';",
      "import useLogic from './useLogic';",
      "import AddDialog from './AddDialog';",
      "import { AddButton, EditButton, DeleteButton } from '@comps/Buttons';",
      "/**",
      " * ----------------------------------------",
      " *  列表",
      " * ----------------------------------------",
      " */",
      "export default function ${TM_FILENAME_BASE}() {",
      "  const props = useLogic();",
      "  const { state, dispatch } = props;",
      "",
      "  const columns = [",
      "    { title: '名称', dataIndex: 'name' },",
      "    { title: '描述', dataIndex: 'desc' },",
      "  ];",
      "  return (",
      "    <div>",
      "      <AddDialog {...props} />",
      "      <div className='mb-3'>",
      "        <AddButton onClick={props.onClickAdd} />",
      "        <EditButton onClick={props.onClickEdit} />",
      "        <DeleteButton onClick={props.onClickDelete} />",
      "      </div>",
      "      <Table",
      "        dataSource={state.rows}",
      "        columns={columns}",
      "      pagination={{",
      "        showSizeChanger: false,",
      "        total: state.total,",
      "        onChange(page) {",
      "          dispatch({ version: Date.now(), page });",
      "        },",
      "      }}",
      "        rowSelection={{",
      "          type: 'radio',",
      "          onChange(keys) {",
      "            dispatch({ select: keys[0] });",
      "          },",
      "        }}",
      "      />",
      "    </div>",
      "  );",
      "}"
    ]
  },
  "⭕️ 通用逻辑": {
    "prefix": "yy.com.logic",
    "body": [
      "import { useReducer, useEffect } from 'react';",
      "import { message } from 'antd';",
      "import confirmer from 'ynw/script/confirmer';",
      "import http from '@script/http';",
      "",
      "const initState = {",
      "  rows: [],",
      "  version: 0,",
      "  visible: false,",
      "};",
      "",
      "const reducer = (state, action) => {",
      "  return { ...state, ...action };",
      "};",
      "",
      "export default function ${TM_FILENAME_BASE}() {",
      "  const [state, dispatch] = useReducer(reducer, initState);",
      "",
      "  useEffect(() => {}, [state.version]);",
      "",
      "  const checker = async => {",
      "    if (!state.select) {",
      "      message.error('请选择');",
      "      return Promise.reject();",
      "    }",
      "    return Promise.resolve();",
      "  };",
      "",
      "  const onClickAdd = () => {",
      "    dispatch({ visible: true });",
      "  };",
      "  const onClickEdit = async () => {",
      "    await checker();",
      "    const editData = state.rows.find(item => item._id == state.select);",
      "    dispatch({ isEdit: true, editData, visible: true });",
      "  };",
      "",
      "  const onClickDelete = async () => {",
      "    await checker();",
      "    await confirmer();",
      "    http.post('/delete', {_id:state.select});",
      "    dispatch({ version: Date.now(), select:'' });",
      "  };",
      "",
      "  return { state, dispatch, onClickAdd, onClickDelete, onClickEdit };",
      "}"
    ]
  },
  "⭕️ 通用表格-2-单体": {
    "prefix": "yy.com.table",
    "body": [
      "import React, { useEffect, useReducer } from 'react';",
      "import http from '@script/http';",
      "import { Table } from 'antd';",
      "",
      "const initState = {",
      "  page: 1,",
      "  total: 0,",
      "  select: '',",
      "  rows: [],",
      "};",
      "const reducer = (state, action) => {",
      "  return { ...state, ...action };",
      "};",
      "",
      "/**",
      " * ----------------------------------------",
      " * 运行日志",
      " * ----------------------------------------",
      " */",
      "export default function ${TM_FILENAME_BASE}() {",
      "  const [state, dispatch] = useReducer(reducer, initState);",
      "",
      "  const columns = [",
      "    { title: '时间', dataIndex: 'time', width: 220, align: 'center' },",
      "    { title: '描述', dataIndex: 'desc', width: 200 },",
      "    {},",
      "  ];",
      "",
      "  useEffect(() => {",
      "    const params = { page: state.page };",
      "    http.get('/admin/log/login', { params }).then(res => {",
      "      dispatch({",
      "        total: res.total,",
      "        rows: res.rows.map(item => {",
      "          return item;",
      "        }),",
      "      });",
      "    });",
      "  }, [state.version]);",
      "",
      "  return (",
      "    <Table",
      "      dataSource={state.rows}",
      "      columns={columns}",
      "      bordered",
      "      size='small'",
      "      pagination={{",
      "        showSizeChanger: false,",
      "        total: state.total,",
      "        onChange(page) {",
      "          dispatch({ version: Date.now(), page });",
      "        },",
      "      }}",
      "        rowSelection={{",
      "          type: 'radio',",
      "          onChange(keys) {",
      "            dispatch({ select: keys[0] });",
      "          },",
      "        }}",
      "    />",
      "  );",
      "}",
      "",
      ";"
    ]
  },
  "⭕️ taro基础模板": {
    "prefix": "yy.taro.base",
    "body": [
      "import React from 'react';",
      "import { View, Text } from '@tarojs/components';",
      "",
      "export default function ${TM_FILENAME_BASE}() {",
      "  return <View>${TM_FILENAME_BASE}</View>;",
      "}",
      ""
    ]
  },
  "⭕️ 空数据组件": {
    "prefix": "yy.ant.empty",
    "body": "<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />"
  }
}